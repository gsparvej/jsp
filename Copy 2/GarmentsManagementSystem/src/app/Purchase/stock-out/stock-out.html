<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card p-4 shadow">
        <h4 class="text-center text-danger mb-4">Stock Out Form</h4>

        <form [formGroup]="formStockOut" (ngSubmit)="addStockOut()">
          <!-- Item Dropdown -->
          <div class="mb-3">
            <label for="itemId" class="form-label">Select Item</label>
            <select
              class="form-select"
              formControlName="itemId"
              (change)="onItemSelect($event)"
              id="itemId"
            >
              <option value="">-- Select Item --</option>
              <option *ngFor="let i of inventory" [value]="i.id">
                {{ i.categoryName }} (Available: {{ i.quantity }})
              </option>
            </select>
          </div>

          <!-- Quantity Input -->
          <div class="mb-3">
            <label for="quantity" class="form-label">Quantity</label>
            <input
              type="number"
              class="form-control"
              id="quantity"
              formControlName="quantity"
              min="1"
            />
            <div
              class="text-danger"
              *ngIf="formStockOut.get('quantity')?.touched &&
                     formStockOut.get('quantity')?.invalid"
            >
              Quantity must be at least 1 and not more than available stock
            </div>
          </div>

          <!-- Date Input -->
          <div class="mb-3">
            <label for="transactionDate" class="form-label">Transaction Date</label>
            <input
              type="date"
              id="transactionDate"
              class="form-control"
              formControlName="transactionDate"
            />
          </div>

          <!-- Submit Button -->
          <div class="text-end">
            <button
              type="submit"
              class="btn btn-danger"
              [disabled]="formStockOut.invalid"
            >
              Stock Out
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
