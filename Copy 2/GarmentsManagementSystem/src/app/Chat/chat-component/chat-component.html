<div class="chat-container border rounded shadow p-3 bg-light mt-2" style="max-width: 600px; margin: auto;">
  <h5 class="text-success mb-3 border-bottom pb-2">ðŸŸ¢ Logged in as: {{ currentUserName }}</h5>

  <div class="chat-box mb-3" style="max-height: 400px; overflow-y: auto;">
    <div *ngFor="let msg of messages" class="mb-3 d-flex"
         [ngClass]="{'justify-content-end': msg.sender === currentUserName, 'justify-content-start': msg.sender !== currentUserName}">
      
      <div [ngClass]="{'bg-primary text-white': msg.sender === currentUserName, 'bg-white text-dark border': msg.sender !== currentUserName}"
           class="p-2 rounded chat-bubble" style="max-width: 70%; position: relative;">
        <div class="fw-semibold small">{{ msg.sender }}</div>
        <div>{{ msg.content }}</div>
        <div class="text-end text-muted small mt-1" style="font-size: 0.75rem;">
          {{ msg.timestamp | date:'shortTime' }}
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex align-items-center border-top pt-2 mb-2">
    <input type="text" class="form-control me-2 rounded-pill px-3" [(ngModel)]="newMessage"
           placeholder="Type a message" (keyup.enter)="sendMessage()" />
    <button class="btn btn-success rounded-circle" (click)="sendMessage()" style="width: 40px; height: 40px;">
      <i class="fa fa-paper-plane"></i>
    </button>
  </div>
</div>
